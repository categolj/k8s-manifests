apiVersion: tanzu.vmware.com/v1
kind: SpringCloudGatewayRouteConfig
metadata:
  name: note-dev-ik-am
  namespace: gateway
spec:
  routes:
  - uri: http://note.note.svc.cluster.local:8080
    order: -10
    predicates:
    - Host=note.dev.ik.am*
    filters:
    - StripPrefix=0
    - PreserveHostHeader=
    - SetResponseHeader=Access-Control-Allow-Credentials, true
    - SetResponseHeader=Access-Control-Allow-Headers, *
    - SetResponseHeader=Access-Control-Allow-Methods, GET,POST,OPTIONS
    - SetResponseHeader=Access-Control-Allow-Origin, https://ik.am
    - SetResponseHeader=Access-Control-Max-Age, 3600
---
apiVersion: tanzu.vmware.com/v1
kind: SpringCloudGatewayMapping
metadata:
  name: note-dev-ik-am
  namespace: gateway
spec:
  gatewayRef:
    name: gateway
  routeConfigRef:
    name: note-dev-ik-am