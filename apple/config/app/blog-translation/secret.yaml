#@ load("@ytt:data", "data")
#@ load("@ytt:assert", "assert")

#@ namespace = "blog{}".format(data.values.namespace_suffix)
apiVersion: v1
kind: Secret
metadata:
  name: translation-db
  namespace: #@ namespace
type: Opaque
stringData:
  type: postgresql
  host: #@ data.values.postgresql.host
  port: #@ data.values.postgresql.port
  username: #@ data.values.postgresql.username
  password: #@ data.values.postgresql.password
  database: translation
---
apiVersion: v1
kind: Secret
metadata:
  name: translation-trusted-certs
  namespace: #@ namespace
type: Opaque
stringData:
  type: ca-certificates
  postgresql.crt: #@ data.values.postgresql.certificates
---
apiVersion: v1
stringData:
  google-api-key: #@ data.values.google_api_token or assert.fail("'google_api_token' is required!")
kind: Secret
metadata:
  name: translation-config
  namespace: #@ namespace
type: Opaque

