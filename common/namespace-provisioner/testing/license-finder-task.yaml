apiVersion: tekton.dev/v1beta1
kind: Task
metadata:
  name: license-finder
spec:
  params:
  - name: source-url
  steps:
  - image: licensefinder/license_finder:latest
    name: license-finder
    script: |
      set -ex
      . ~/.profile
      cd `mktemp -d`
      curl -s $(params.source-url) | tar -m -xzf -
      /LicenseFinder/bin/license_finder